CREATE TABLE user (
    mail VARCHAR(50) PRIMARY KEY,
    password CHAR(60),
    username VARCHAR(50),
    is_admin TINYINT UNSIGNED
);

CREATE TABLE team (
    id TINYINT UNSIGNED AUTO_INCREMENT PRIMARY KEY,
    designation VARCHAR (50)
);

CREATE TABLE team_assignment (
    team_id TINYINT UNSIGNED REFERENCES team(id),
    user_mail VARCHAR(50) REFERENCES user(mail),
    PRIMARY KEY(team_id, user_mail)
);

CREATE TABLE event(
    id INT UNSIGNED AUTO_INCREMENT PRIMARY KEY,
    designation VARCHAR(50),
    description VARCHAR(255),
    location VARCHAR(50),
    start_time DATETIME,
    meeting_time DATETIME,
    meeting_location VARCHAR(50),
    qty_umpire TINYINT UNSIGNED,
    qty_scorer TINYINT UNSIGNED,
    qty_seats TINYINT UNSIGNED
);

CREATE TABLE event_assignment (
    event_id INT UNSIGNED REFERENCES event (id),
    team_id TINYINT UNSIGNED REFERENCES team(id),
    PRIMARY KEY (event_id, team_id)
);

CREATE TABLE event_participation (
	user_mail VARCHAR(50) REFERENCES user(mail),
    event_id INT UNSIGNED REFERENCES event(id),
    accepted TINYINT UNSIGNED,
    note VARCHAR(50),
    seats TINYINT UNSIGNED DEFAULT 0,
    is_umpire TINYINT UNSIGNED,
    is_scorer TINYINT UNSIGNED,
    is_player TINYINT UNSIGNED,
    is_coach TINYINT UNSIGNED,
    PRIMARY KEY(user_mail, event_id)
);